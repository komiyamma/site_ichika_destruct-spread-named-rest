<img src="./images/Gemini_Generated_Image_32jzd432jzd432jz.png" width="300"/>

### 💬「ま、まぁまぁね💦<br>　　危うく『時の星』の威圧感に飲まれるところだったわ💦」

### 💬「****************************」<br>　　（この章以降、このようにセリフが未定の部分は<br>　 　「イチカ丼」がライブ中にセリフを考えて配信予定）

---

# 🕰️ JavaScriptの「時間」を操る！非同期処理・集中講座（全15日）

![講座ロードマップ](./zukai/D00_roadmap.svg)

## 【Part 1】 JavaScriptの「孤独な働き者」と「キッチンタイマー」（4日間）
**目標：** 難しい「非同期」という言葉を使わずに、タイマー遊びを通じて「時間がずれる感覚」を体に染み込ませる。

### 🗓️ Day 1：JavaScriptは「ワンオペ」の達人
* **テーマ：** JSは一度に一つのことしかできない。
* **メタファー：** 「キッチンにシェフは一人だけ」。
* **学習内容：**
    * **シングルスレッド（ワンオペ）：** 他の言語との違い。
    * **ブロッキング体験：** `alert()` や重い処理（無限ループ）で、ブラウザが「固まる」現象を体験。
    * **非同期の入り口：** 止まらないためには、「時間のかかる仕事」を後回しにする必要があることに気づく。

### 🗓️ Day 2：キッチンタイマーで遊ぼう ～setTimeout & setInterval～
* **テーマ：** 時間を操る道具を手に入れる（**追加した日**）。
* **メタファー：** 「パスタを茹でている間に、サラダを作る」。
* **学習内容：**
    * **`setTimeout`：** 「3秒後に『完成！』とログに出す」基本的な使い方。
    * **`setInterval`：** 「1秒ごとにカウントアップする」ストップウォッチ作り。
    * **クリア処理：** `clearTimeout` と `clearInterval` でタイマーを止める。
    * **実践：** アプリ画面に「簡易デジタル時計」を表示してみる。

### 🗓️ Day 3：イベントループという「魔法の整理術」
* **テーマ：** シェフが止まらずに動き続ける裏側の仕組み。
* **メタファー：** 「0秒のタイマーでも、行列の最後尾に並ぶルール」。
* **学習内容：**
    * **コールスタック：** 今やっている作業。
    * **タスクキュー（行列）：** タイマーやクリック処理が並ぶ場所。
    * **実験：** `setTimeout(fn, 0)` と書いたのに、すぐ下の行より後に実行されるミステリーを解く。
    * **イベントループ：** 「手元が空いたら、行列の先頭を呼ぶ」という絶対ルール。

### 🗓️ Day 4：昔の苦労を知る ～コールバック地獄～
* **テーマ：** タイマーを重ねると、コードが崩壊する。
* **メタファー：** 「Aが終わったらB、Bが終わったらC…と伝言ゲームをする辛さ」。
* **学習内容：**
    * **疑似的な通信：** `setTimeout` を使って「3秒かかるダウンロード」をシミュレーション。
    * **地獄の体験：** 「3秒待つ」の中に「2秒待つ」を書き、さらに「1秒待つ」を書く…。
    * **波動拳コード：** `}}}}` で終わる、読みづらいコードを書き、「もう嫌だ！」と実感する。

---

<img src="./images/Gemini_Generated_Image_xlrmcaxlrmcaxlrm.png" width="300">

### 💬「****************************」
（このようにセリフが未定の部分は「イチカ丼」がライブ中にセリフを考える）
---

## 【Part 2】 未来の約束「Promise」と魔法の言葉「async/await」（5日間）
**目標：** 地獄のコードを、魔法（async/await）で美しく書き換える感動体験。

### 🗓️ Day 5：約束チケット姉さんの「予約チケット（Promise）」
* **テーマ：** `Promise` オブジェクトの概念理解（コードは書かない）。
* **メタファー：** 「コーヒーそのものではなく、引換券（チケット）を渡された」。
* **学習内容：**
    * **3つの状態：** Pending（準備中）、Fulfilled（成功）、Rejected（失敗）。
    * データは「今」ではなく「未来」に手に入るもの。

### 🗓️ Day 6：チケットの交換 ～.then()チェーン～
* **テーマ：** `Promise` の結果を受け取り、つなげる。
* **メタファー：** 「チケットを窓口に出して、商品を受け取る」。
* **学習内容：**
    * `.then()` と `.catch()` の使い方。
    * Promiseチェーンで、Day 4の地獄を少し整理してみる。

### 🗓️ Day 7：魔法の「一時停止」ボタン ～async/await～
* **テーマ：** 非同期処理を、まるで「普通のコード」のように書く（**最重要回**）。
* **メタファー：** 「『待て』と言えば、商品が出るまで時が止まる魔法」。
* **学習内容：**
    * `async function` と `await`。
    * **感動体験：** Day 4の地獄コードを `await` で書き直し、劇的な読みやすさに感動する。

### 🗓️ Day 8：失敗した時の「保険」 ～try...catch 再訪～
* **テーマ：** エラーハンドリングの真髄。
* **メタファー：** 「事故が起きても、お店（アプリ）を潰さずに『ごめんなさい』と言う」。
* **学習内容：**
    * 非同期エラーの捕まえ方。
    * 通信エラー時のユーザーへのメッセージ表示。
    * `finally` での後片付け。

### 🗓️ Day 9：並行処理のテクニック ～Promise.all～
* **テーマ：** 複数の待ち時間を効率化する。
* **メタファー：** 「コーヒーとトースト、同時に頼んで両方揃ったら運ぶ」。
* **学習内容：**
    * `await` の連続（直列）と `Promise.all`（並列）の違いと使い分け。

---


<img src="./images/Gemini_Generated_Image_2i7y8b2i7y8b2i7y.png" width="300">  

### 💬「****************************」

---

## 【Part 3】 外の世界とつながる「fetch() API」（4日間）
**目標：** 自分のアプリからインターネット上のデータを取得・保存し、通信トラブルにも強いコードを書く。

### 🗓️ Day 10：世界への扉を開く ～GETリクエスト～
* **テーマ：** 外部APIからデータを「見る（取得する）」。
* **メタファー：** 「お店のメニュー（API）を見て注文する」。
* **学習内容：**
    * `fetch()` の基本と、JSONデータの取得。
    * 無料API（天気や画像）を使った実践。

### 🗓️ Day 11：取得したデータを画面に出す ～UIへの反映～
* **テーマ：** 非同期データとDOM操作の融合。
* **メタファー：** 「届いた食材を料理して、お皿（画面）に盛り付ける」。
* **学習内容：**
    * 取得データのHTML表示。
    * **ローディング表示（UX）：** データ待ちの「グルグル」を作る。

### 🗓️ Day 12：こちらの想いを届ける ～POSTリクエスト～
* **テーマ：** サーバーへデータを「送る（保存する）」。
* **メタファー：** 「荷物に宛名と『取扱注意（ヘッダー）』を貼って発送する」。
* **学習内容：**
    * GETとPOSTの違い。
    * リクエストヘッダーとJSONデータの送信。

### 🗓️ Day 13：トラブル対応とキャンセル ～堅牢な通信～
* **テーマ：** エラーやキャンセルに対応できる、プロのコード。
* **メタファー：** 「注文したけどやっぱり帰る！」「店が閉まっていた時の対応」。
* **学習内容：**
    * HTTPステータスコードの確認と `response.ok` でのエラーチェック（200/404/500）。
    * **AbortController：** 通信キャンセルと `AbortError` の扱い。

---

<img src="./images/Gemini_Generated_Image_si1qwcsi1qwcsi1q.png" width="300"/>

### 💬「****************************」

---

## 【Part 4】 🎁 ボーナスステージ：もう一人の自分「Web Worker」（2日間）

> 🎊 **おめでとうございます！**  
> **Day 13 までで、非同期処理の基本はマスターしました！**  
> `async/await`、`fetch`、エラーハンドリング…実務で使う知識は十分に身についています。
>
> ここからは **「ボーナスステージ」** です。  
> 難易度はグッと上がりますが、「知っていると差がつく」上級テクニック。  
> **余力があれば挑戦、なければスキップしてOK！** いつでも戻ってこれます。

**目標：** どんなに重い計算をしても、画面がカクつかない「並列処理」の仕組みを知る。

### ⚠️ Part 4 の注意点
- これまでと **全く違うパラダイム**（別ファイル、メッセージでやり取り、DOMに触れない）
- **Live Server が必須**（`file://` では動きません！）
- 詰まっても落ち込まないで！ Part 1〜3 とは独立したトピックです

### 🗓️ Day 14：もう一人の自分 ～Web Worker～
* **テーマ：** 別スレッド（Worker）の存在を知る。
* **メタファー：** 「シェフ（メイン）とは別のキッチンにいる、助っ人シェフ」。
* **学習内容：**
    * **new Worker()：** 助っ人を雇う。
    * **postMessage / onmessage：** メモ（メッセージ）だけでやり取りする制約。
    * メインスレッドを止めない体験。

### 🗓️ Day 15：並列処理のダンス ～重い計算を裏側で～
* **テーマ：** 実践的な並列処理。
* **メタファー：** 「裏でジャガイモの皮剥きを頼んでおいて、表でお客さんと話す」。
* **学習内容：**
    * 重い計算（ループ処理など）をWorkerに投げる。
    * UI（ボタン操作など）がそのまま動くことを確認する。
    * `terminate()` での解雇（終了）。

-----

<img src="./images/Gemini_Generated_Image_xn5y55xn5y55xn5y.png" width="300">

### 💬「****************************」

---

## Part 4 はオプション

> 💬 *「Part 4、難しそう…」と思ったら、**無理せずスキップして大丈夫！***  
> *非同期処理の本筋は Day 13 で完結しています。*  
> *いつか「重い計算でUIが固まって困る…」という場面に出会ったら、*  
> *取りくんでも良いでしょう！*

-----

<h1><a href="D01.md">Day1 へ</a></h1>
